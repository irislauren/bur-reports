import streamlit as st

thailand_summary = '''Chapter 3 of Thailand’s Fourth Biennial Update Report provides a comprehensive overview of the country’s climate change mitigation efforts, emphasizing the integration of mitigation strategies into national and sectoral policies. The chapter focuses on the implementation of various frameworks and targets aimed at reducing greenhouse gas (GHG) emissions. Thailand’s commitment to addressing climate change is underscored by its Nationally Appropriate Mitigation Action (NAMA) and Nationally Determined Contribution (NDC) targets.
    \nKey national plans include the 20-Year National Strategy, the Climate Change Master Plan (2015–2050), and sectoral strategies covering energy, transportation, industry, and waste management. The 20-Year National Strategy aims to achieve eco-friendly development, balancing economic, environmental, and social factors. It integrates climate action into sustainable development goals, recognizing the increasing impacts of climate change on the environment and society.
    \nThe NAMA, implemented between 2013 and 2020, achieved significant GHG reductions, especially in the energy and transport sectors. By 2020, Thailand had reduced emissions by 15.4% from the business-as-usual scenario, with renewable energy contributing the bulk of the reductions. The transition to the NDC framework represents Thailand’s second phase of climate action, targeting a 20-25% reduction by 2030, with a more ambitious long-term goal of achieving carbon neutrality by 2050 and net-zero emissions by 2065.
    \nThailand’s mitigation measures are diverse, spanning renewable energy promotion, energy efficiency improvements, waste management, and agricultural reforms. The report highlights the importance of technology transfer, capacity building, and international cooperation in enabling Thailand to meet its climate goals. Specific projects, such as the RAC NAMA (Refrigeration and Air Conditioning Nationally Appropriate Mitigation Action) and Thai Rice NAMA, exemplify targeted initiatives that combine policy, technology, and financial mechanisms to achieve emission reductions in key sectors.
    \nOverall, the report illustrates Thailand’s proactive stance in climate mitigation, noting the challenges posed by limited financial and technical resources. It emphasizes the need for ongoing international support to reach the more ambitious targets outlined in the updated NDC and the Long-Term Low Greenhouse Gas Emission Development Strategy (LT-LEDS).'''

malaysia2_summary = '''Chapter 3 of Malaysia’s Biennial Update Report highlights the country’s ongoing mitigation efforts to address climate change. The chapter begins by discussing how Malaysia has mainstreamed climate mitigation actions into its national development plans, particularly through the Eleventh Malaysia Plan (2016-2020), which emphasizes green growth and sustainability. It outlines key strategies aimed at climate-resilient development, resource efficiency, and sustainable energy usage.
    \nThe National Policy on Climate Change provides a framework guiding government agencies, industries, and communities toward a balanced approach to both mitigation and adaptation. This framework is based on five principles, including sustainable development, environmental conservation, and coordinated implementation of climate change actions. Additionally, the country has committed to reducing greenhouse gas (GHG) emissions intensity per GDP by 45% by 2030, based on 2005 levels.
    \nSectoral policies play a significant role in Malaysia’s mitigation strategy, covering energy, transport, waste management, and land-use sectors. For example, the National Renewable Energy Policy and Action Plan and the National Energy Efficiency Action Plan (NEEAP) set ambitious targets for renewable energy installation and energy efficiency improvements. In the transport sector, policies such as the National Automotive Policy and the National Electric Mobility Blueprint promote the use of electric vehicles (EVs) and biofuels, while aiming for a 40% modal share of public transport by 2030.
    \nWaste management efforts are also prominent, with goals to increase recycling rates and reduce methane emissions from waste disposal sites. The chapter details Malaysia’s push to develop biogas facilities at palm oil mills to capture methane, which contributes to GHG reductions.
    \nThe Land Use, Land-Use Change, and Forestry (LULUCF) sector is critical for maintaining Malaysia’s carbon sink status. Policies promote sustainable forest management, ensuring that at least 50% of the country’s land remains forested, as highlighted in the REDD+ Strategy.
    \nFinally, the chapter explores various GHG emissions projections under three scenarios: Business-as-Usual (BAU), Planning (PLAN), and Ambitious (AMB). The analysis shows that without further intervention, emissions are expected to increase, particularly from the energy sector, which will account for the majority of emissions by 2030. However, with planned and more ambitious measures, Malaysia can significantly reduce its GHG emissions by implementing aggressive energy efficiency programs and transitioning toward renewable energy.
    \nThis chapter provides a comprehensive overview of Malaysia’s policy framework, sectoral actions, and projections aimed at achieving its climate goals under the Paris Agreement and ensuring sustainable development.'''

malaysia3_summary = '''The chapter from Malaysia’s Third Biennial Update Report (BUR3) provides an extensive overview of the country’s climate change mitigation efforts across key sectors in 2016. These efforts are aimed at reducing greenhouse gas (GHG) emissions, with the report highlighting significant progress in sectors such as energy, waste management, and forestry, while noting data limitations in others such as agriculture and industrial processes.
    \nKey mitigation actions in the energy sector focus on renewable energy and energy efficiency. The National Renewable Energy Policy and the Feed-in-Tariff (FiT) mechanism contributed to substantial emissions reductions, particularly through hydropower and solar energy. In 2016, renewable energy efforts achieved a GHG emissions avoidance of 7,262.59 Gg CO2 eq, with hydropower alone contributing 6,570.15 Gg CO2 eq of this reduction. Energy efficiency improvements under the National Energy Efficiency Action Plan (NEEAP) also contributed to GHG reductions, saving 458.02 Gg CO2 eq through initiatives such as energy-efficient appliances and building audits.
    \nThe transportation sector also made significant strides through the expansion of urban rail-based public transport, promotion of energy-efficient vehicles (EEVs), and the use of palm-based biodiesel. Collectively, these actions led to a reduction of 1,445 Gg CO2 eq in 2016, with biodiesel alone accounting for 1,127.34 Gg CO2 eq.
    \nIn the waste sector, initiatives such as paper recycling and biogas recovery from palm oil mill effluent were highlighted for their contributions to emissions reductions. Paper recycling avoided 3,937.76 Gg CO2 eq, while biogas recovery achieved 2,377.84 Gg CO2 eq in emissions avoidance.
    \nThe forestry sector plays a pivotal role in Malaysia’s mitigation strategy, acting as a carbon sink. Through sustainable forest management and conservation efforts, the forestry sector avoided 20,307.50 Gg CO2 eq of emissions in 2016. Malaysia’s long-standing commitment to maintaining at least 50% of its land as forest is central to these efforts, along with the implementation of forest enrichment programs like the Central Forest Spine and the Heart of Borneo initiatives, which aim to enhance forest connectivity.
    \nThe chapter also outlines key national policies and frameworks that have enabled these mitigation efforts, including the Power Sector Development Plan, which sets ambitious targets for renewable energy capacity, and various financing mechanisms like the Green Technology Financing Scheme (GTFS) and Green Investment Tax Allowances (GITA). These enablers have created an environment conducive to private investment in green technology and energy-efficient projects.
    \nOverall, Malaysia’s mitigation actions in 2016 demonstrate the country’s commitment to reducing its carbon footprint, although challenges remain in sectors where data is limited or mitigation actions have not been fully quantified. The report emphasizes the importance of continued international support and domestic policy innovation to meet long-term climate goals.
    '''

thailand_malaysia_comp = '''Both Thailand and Malaysia have developed robust frameworks to mitigate climate change, though their approaches reflect their unique national circumstances, priorities, and resources. Both countries have mainstreamed climate change mitigation into their national development strategies and emphasized the importance of aligning climate action with economic growth, resource efficiency, and sustainability goals.
    \nThailand’s strategy is characterized by long-term planning and ambitious GHG emission reduction targets, highlighted by its 20-Year National Strategy (2018-2037) and the Climate Change Master Plan (2015-2050). These plans focus on reducing GHG emissions across key sectors, such as energy, transport, industry, and waste, while promoting low-carbon growth. Thailand’s targets include a 30-40% reduction of GHG emissions by 2030, conditional on international support for technology, finance, and capacity building . Thailand also aims for carbon neutrality by 2050 and net-zero emissions by 2065 . Thailand’s mitigation efforts incorporate both mandatory measures and voluntary actions, such as carbon market initiatives and carbon labeling schemes.
    \nMalaysia, similarly, has adopted a green growth model as part of its Eleventh Malaysia Plan (2016-2020), which emphasizes sustainable resource management and resilience to climate change . Malaysia’s National Policy on Climate Change (2009) outlines a framework that balances mitigation and adaptation through the sustainable use of natural resources, energy efficiency, and public transportation improvements. Like Thailand, Malaysia has sectoral strategies in energy, transport, and waste management, with a focus on renewable energy, energy efficiency, and methane recovery from waste disposal  . Malaysia also commits to reducing GHG emissions intensity per GDP by 45% by 2030, relative to 2005 levels, with 10% of the reduction conditional on international support .
    \nWhile both countries rely heavily on international cooperation for technological, financial, and capacity-building support, their respective plans reflect different timelines and approaches to mitigation. Thailand’s framework includes ambitious long-term targets and emphasizes the need for international support to achieve its aggressive carbon neutrality goal. Malaysia, on the other hand, frames its mitigation efforts in the context of its economic development plans and sector-specific policies, balancing the need for economic growth with environmental sustainability.
    \nSectorally, both countries target the energy and transport sectors as key areas for GHG reductions, promoting renewable energy and improving public transportation systems. However, Malaysia places a significant emphasis on its LULUCF (Land Use, Land-Use Change, and Forestry) sector, ensuring that 50% of the country’s land remains forested . This sector is critical for Malaysia’s carbon sink efforts, a feature less emphasized in Thailand’s mitigation plans.
    \nUltimately, both countries recognize the need for aggressive mitigation actions aligned with sustainable development, yet they navigate this challenge differently based on their economic structures, environmental contexts, and available resources. Both Thailand and Malaysia emphasize the importance of sectoral policies, international cooperation, and long-term strategic planning, but the depth of ambition and the specific focus areas reflect their distinct national circumstances.'''

malaysia_comp = '''The two texts provide a detailed examination of Malaysia’s climate change mitigation efforts, but they emphasize different aspects due to their contexts—one focuses on future plans and projections, while the other reviews actual progress made in a specific year. Together, they offer a nuanced understanding of Malaysia’s evolving climate strategy.
    \nIn 2018, the focus is on the integration of mitigation into national development plans, particularly through the Eleventh Malaysia Plan (2016-2020), which underscores a commitment to green growth and sustainability. This forward-looking framework stresses the need for climate-resilient development, resource efficiency, and sustainable energy use. A key goal is the reduction of GHG emissions intensity per GDP by 45% by 2030 relative to 2005, reflecting a long-term vision that intertwines environmental objectives with economic growth. The 2018 discussion is forward-looking, highlighting sectoral policies aimed at transitioning to renewable energy, improving energy efficiency, and expanding public transport while also laying out ambitious targets for emissions reductions across key sectors such as energy, transportation, and waste management.
    \nBy 2020, Malaysia’s Third Biennial Update Report (BUR3) shifts to evaluating concrete outcomes from these efforts, particularly in 2016. This report provides detailed GHG emissions reductions data, showcasing Malaysia’s actual achievements, with measurable progress in renewable energy deployment, energy efficiency, and waste management. For instance, renewable energy efforts, especially hydropower, contributed to a substantial avoidance of 7,262.59 Gg CO2 eq in 2016, far surpassing projections. Similarly, energy-efficient vehicles (EEVs), urban rail transport, and palm-based biodiesel also made notable contributions to emissions reductions in the transportation sector. The waste management sector saw impressive gains through paper recycling and biogas recovery, which collectively avoided 6,315.60 Gg CO2 eq in emissions.
    \nBoth reports emphasize the pivotal role of the forestry sector, with Malaysia’s long-standing policy of maintaining at least 50% forest cover remaining central to the country’s mitigation efforts. The 2020 report quantifies this impact, noting that sustainable forest management helped avoid 20,307.50 Gg CO2 eq in 2016, reaffirming the importance of forest conservation projects like the Central Forest Spine and Heart of Borneo initiatives. While the 2018 report discusses the strategic importance of land-use policies and sustainable forest management for future carbon sink potential, the 2020 report showcases the tangible outcomes of these policies, underscoring their effectiveness in absorbing carbon emissions.
    \nA key theme across both texts is Malaysia’s reliance on international cooperation and financing mechanisms to meet its climate goals. Both emphasize the role of the Green Technology Financing Scheme (GTFS) and tax incentives like the Green Investment Tax Allowances (GITA) to encourage private sector involvement in green technology. However, the 2020 report provides more detail on how these mechanisms have been instrumental in driving investments and enabling Malaysia to meet its targets, particularly in sectors like renewable energy.
    \nThe 2020 BUR3 also identifies some challenges, notably in sectors such as agriculture and industrial processes, where mitigation actions are not fully quantified due to data limitations. This contrasts with the more optimistic 2018 outlook, which lays out ambitious targets without yet acknowledging the data challenges that could impede progress.
    \nIn comparing these two reports, it becomes clear that Malaysia’s climate strategy, while ambitious and well-structured in 2018, faced real-world complexities and gaps in data availability by 2020. Despite these challenges, Malaysia’s tangible progress in areas like energy, transportation, and forestry demonstrates its commitment to reducing its carbon footprint, even as continued innovation and international support remain critical to its long-term success.
    '''

st.title("Biennial Update Reports")
pair = st.selectbox("Select a pair of documents", ["Thailand BUR4 vs. Malaysia BU2", "Malaysia BUR2 vs. Malaysia BUR3"])
st.header("Generated Summaries")
ex = st.expander("Prompt")
ex.write('''Provide a detailed summary of the following text [in paragraph form].
          Make sure to include nuance that the text presents and details that would 
          be relevant for a reader to fully comprehend and understand its material.''')

col1, col2 = st.columns(2)

if pair == "Thailand BUR4 vs. Malaysia BU2":
    left_label = "Thailand BUR4"
    right_label = "Malaysia BU2"
    col1_summary = thailand_summary
    col2_summary = malaysia2_summary
    comp_sum = thailand_malaysia_comp

elif pair == "Malaysia BUR2 vs. Malaysia BUR3":
    left_label = "Malaysia BUR2"
    right_label = "Malaysia BUR3"
    col1_summary = malaysia2_summary
    col2_summary = malaysia3_summary
    comp_sum = malaysia_comp

col1.subheader(left_label)
col2.subheader(right_label)
col1.write(col1_summary)
col2.write(col2_summary)

ex1 = st.expander("Prompt")
ex1.write('''Provide a detailed summarization by comparing the following two texts. Don't just summarize one, then the other. Make sure to include nuance that the two texts present and details that would be relevant for a reader to fully comprehend and understand their material. You shouldn't have to acknowledge the texts directly.''')

st.subheader(f"{left_label} vs. {right_label}")
st.write(comp_sum)

st.header("Generated Questions")
q_type = st.selectbox("I want questions based on...", ["Summaries", "Original Texts"])
qcol1, qcol2 = st.columns(2)
qcol1.subheader(left_label)
qcol2.subheader(right_label)

thailand_sum_qa = [
    {
        "question": "1. How does Thailand’s 20-Year National Strategy integrate climate change mitigation into sustainable development, and what challenges might arise from balancing these different objectives?",
        "answer": """**Sample Answer**: Thailand’s 20-Year National Strategy aims to balance economic, environmental, and social factors while promoting eco-friendly development. It integrates climate action by recognizing the increasing impacts of climate change on both the environment and society, thereby tying sustainable development goals with mitigation efforts. However, a challenge in balancing these objectives could arise from potential conflicts between economic growth and environmental conservation, where pursuing rapid industrial growth may hinder sustainability goals.
        \n**Where in the text**: This answer is based on the second paragraph, where the 20-Year National Strategy’s goals and the integration of climate action into sustainable development are discussed."""
    },
    {
        "question": "2. What are the key differences between Thailand’s Nationally Appropriate Mitigation Action (NAMA) and Nationally Determined Contribution (NDC), and why is the transition between them important for Thailand’s climate strategy?",
        "answer": """**Sample Answer**: The NAMA, implemented from 2013 to 2020, focused on significant reductions in greenhouse gas emissions, particularly in the energy and transport sectors, achieving a 15.4% reduction by 2020. The NDC, however, represents Thailand’s second phase of climate action, targeting more ambitious goals such as a 20-25% reduction in emissions by 2030 and achieving carbon neutrality by 2050. The transition is important because it signals a shift toward longer-term, more aggressive climate goals, reflecting Thailand’s increased commitment to addressing climate change.
        \n**Where in the text**: The third paragraph provides the details of the NAMA and NDC and explains the transition from one to the other."""
    },
]

thailand_og_qa = [
    {
        "question": "How has Thailand integrated climate change mitigation into its national policies, and what are the primary national plans guiding this effort? Discuss how these plans align with global climate change goals.",
        "answer": '''*Sample Answer*: Thailand has incorporated climate change mitigation into its 20-Year National Strategy (2018-2037) and other key plans such as the Climate Change Master Plan (2015-2050), the Nationally Determined Contribution (NDC), and the Long-Term Low Greenhouse Gas Emission Development Strategy (LT-LEDS). These plans are aligned with global goals, such as those outlined in the Paris Agreement, by aiming for carbon neutrality by 2050 and net-zero GHG emissions by 2065. Thailand’s commitment to reducing GHG emissions by 30% from the BAU level by 2030 reflects these broader international efforts, and further reductions up to 40% are contingent on enhanced international support for technology, finance, and capacity-building.'''
    },
]

malaysia2_sum_qa = [
    {
        "question": "1. How does the Eleventh Malaysia Plan integrate climate change mitigation into national development, and what are the key strategies outlined for achieving green growth and sustainability?",
        "answer": """**Sample Answer**: The Eleventh Malaysia Plan integrates climate change mitigation by focusing on climate-resilient development, resource efficiency, and sustainable energy usage. Key strategies include promoting green growth, enhancing sustainability, and ensuring that economic development does not compromise environmental goals. The plan also emphasizes the need for climate adaptation measures alongside mitigation efforts, helping Malaysia pursue both environmental conservation and sustainable economic development.
        \n**Where in the text**: This answer can be derived from the first paragraph, where the role of the Eleventh Malaysia Plan and its focus on green growth and sustainability are discussed."""
    }
]

malaysia2_og_qa = [
    {
        "question": "How does Malaysia’s Eleventh Malaysia Plan (2016-2020) integrate climate change mitigation, and what are some specific strategies outlined in this plan? Discuss how these strategies address both development and environmental goals.",
        "answer": '''Sample Answer:
The Eleventh Malaysia Plan integrates climate change mitigation by focusing on “Pursuing Green Growth for Sustainability and Resilience.” It includes strategies such as the promotion of climate-resilient development, sustainable use of natural resources, efficient public transportation, and sustainable energy usage. The goal is to balance development with environmental sustainability, emphasizing prudent resource management and the reduction of greenhouse gas (GHG) emissions. These strategies are designed to fulfill the country’s development needs while contributing to global efforts to combat climate change.
'''
    }
]

malaysia3_sum_qa = [
    {
        "question": '''1. How did Malaysia’s renewable energy initiatives contribute to GHG emissions reductions in 2016, and what role did the National Renewable Energy Policy and Feed-in-Tariff (FiT) mechanism play?''',
        "answer": '''**Sample Answer**: Malaysia’s renewable energy initiatives were instrumental in achieving GHG emissions avoidance of 7,262.59 Gg CO2 eq in 2016. The National Renewable Energy Policy and the Feed-in-Tariff (FiT) mechanism specifically supported the deployment of renewable energy technologies, particularly hydropower, which alone contributed 6,570.15 Gg CO2 eq to the total reduction. The FiT provided incentives that encouraged the adoption of renewable energy sources, making it a key driver of emissions reductions in the energy sector.
            \nWhere in the text: The paragraph discussing “Key mitigation actions in the energy sector” and the specific contribution of renewable energy efforts.
'''
    }
]

malaysia3_og_qa = [
    {
        "question": '''How has Malaysia’s energy sector contributed to the country’s greenhouse gas (GHG) emissions avoidance? Discuss the specific actions and their impact on reducing emissions.''',
        "answer": '''*Sample Answer*:
            Malaysia’s energy sector has significantly contributed to GHG emissions avoidance through various actions, particularly the deployment of renewable energy (RE) and energy efficiency initiatives. The Feed-in-Tariff (FiT) mechanism resulted in 460.52 Gg CO2 eq emissions avoidance in 2016, with additional reductions achieved through hydropower (6,570.15 Gg CO2 eq) and renewable energy projects by public and private licensees (231.92 Gg CO2 eq). The National Energy Efficiency Action Plan (NEEAP) also played a crucial role, leading to 458.02 Gg CO2 eq emissions avoidance through electricity savings across residential, commercial, and industrial sectors. Collectively, these efforts illustrate how Malaysia has integrated energy efficiency and renewable energy into its climate action strategy, making the energy sector a key player in reducing GHG emissions.'''
    }
]

with qcol1:
    if q_type == "Summaries":
        if pair == "Thailand BUR4 vs. Malaysia BU2":
            col1_qa = thailand_sum_qa
        elif pair == "Malaysia BUR2 vs. Malaysia BUR3":
            col1_qa = malaysia2_sum_qa
    elif q_type == "Original Texts":
        if pair == "Thailand BUR4 vs. Malaysia BU2":
            col1_qa = thailand_og_qa
        elif pair == "Malaysia BUR2 vs. Malaysia BUR3":
            col1_qa = malaysia2_og_qa
    for qa in col1_qa:
        qex = st.expander(qa["question"])
        qex.write(qa["answer"])

with qcol2:
    if q_type == "Summaries":
        if pair == "Thailand BUR4 vs. Malaysia BU2":
            col2_qa = malaysia2_sum_qa
        elif pair == "Malaysia BUR2 vs. Malaysia BUR3":
            col2_qa = malaysia3_sum_qa
    elif q_type == "Original Texts":
        if pair == "Thailand BUR4 vs. Malaysia BU2":
            col2_qa = malaysia2_og_qa
        elif pair == "Malaysia BUR2 vs. Malaysia BUR3":
            col2_qa = malaysia3_og_qa
    for qa in col2_qa:
        qex = st.expander(qa["question"])
        qex.write(qa["answer"])

st.header("Source Documents")
st.link_button("Thailand BUR4", "https://drive.google.com/file/d/1b68cZKWcX3l7Jt5WU47Pw-EcGWFyklwe/view?usp=sharing")
st.link_button("Malaysia BU2", "https://drive.google.com/open?id=1P6aB-f0Pbkl5d01qP_mqvWGZVRkRzBK2")
st.link_button("Malaysia BUR3", "https://drive.google.com/open?id=1EAxr_FiKMORmsErR3tnXdynRWY60eLM7")